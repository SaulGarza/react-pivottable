import * as React from 'react'

interface IProps {
  toggle: () => any
  setValue: (value: any) => any
  zIndex: number
  open: boolean
  current: string
  values: any[]
}
export default class Dropdown extends React.PureComponent<IProps,{}> {
  public render() {
    return (
      <div className="pvtDropdown" style={{ zIndex: this.props.zIndex }}>
        <div
          onClick={(e) => {
            e.stopPropagation();
            this.props.toggle();
          }}
          className={`
            pvtDropdownValue
            pvtDropdownCurrent
            ${this.props.open ? 'pvtDropdownCurrentOpen' : ''}
          `}
          role="button"
        >
          <div className="pvtDropdownIcon">{this.props.open ? '×' : '▾'}</div>
          {this.props.current || <span>&nbsp;</span>}
        </div>

        {this.props.open && (
          <div className="pvtDropdownMenu">
            {this.props.values.map(r => (
              <div
                key={r}
                role="button"
                onClick={(e) => {
                  e.stopPropagation();
                  if (this.props.current === r) {
                    this.props.toggle();
                  } else {
                    this.props.setValue(r);
                  }
                }}
                className={`
                  pvtDropdownValue
                  ${r === this.props.current ? 'pvtDropdownActiveValue' : ''}
                `}
              >
                {r}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }
}
